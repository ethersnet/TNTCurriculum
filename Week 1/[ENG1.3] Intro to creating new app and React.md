# Intro to creating new app and React

This lesson covers React. It introduces how to create a new React App project that supports TypeScript. It describes generating the project with the React integrated tool chain, the pieces of the project, making changes, and running the project.

## Learning objectives

* TNTs will understand how React fits into the app architecture.
* TNTs will be able to create a new React app with TypeScript.
* TNTs will learn the basic pieces of the project generated by the React tool chain.
* TNTs will be able to edit and run the app.

## Time required and pace

Total time: 2 hours

* 30 minutes - pre-session: 
* 60 minutes - instructional session 
  * what is React? (5 minutes)
  * review of how to create a React app with create-react-app (15 minutes)
  * app architecture discussion and review of basic ideas (15 minutes)
  * extend my-app with a textbook that updates the welcome message based on an input text (25 minutes)
* 30 minutes - post-session: extend the sample

## References

* [Yarn](https://www.npmjs.com/package/yarn)
* [Create a New React App](https://reactjs.org/docs/create-a-new-react-app.html)
* [Create a React App - Adding TypeScript](https://create-react-app.dev/docs/adding-typescript/)
* [React official web site on GitHub](https://github.com/facebook/react) 
* [Reactjs.org docs](https://reactjs.org/docs)
* [React with TypeScript cheatsheet](https://react-typescript-cheatsheet.netlify.app)

## Pre-session (30 minutes)

View the pre-session [here](https://github.com/tnt-summer-academy/Curriculum/wiki/%5BENG1.3%5D-Intro-to-React)

## Lesson details (60 minutes)

### React (5 minutes)

* React as the component framework
  * [React](https://github.com/facebook/react) is an open source project from Facebook. It is used at Microsoft in web experiences across teams. IG, Netflix, New York Times, Khan Academy, WhatsApp, Dropbox... all use and contribute to React
  * React is a JS library for building user interfaces
  * UI is built in small, isolated pieces called components
  * Components tell React what to display on the screen
  * When the data changes, React *reacts* and updates the screen
  * CSS is used to style React
  * React is the code behind rendering HTML in a webpage
* Overview of the React page [here](https://reactjs.org) and go over the examples

### Review of the created app: my-app (15 minutes)

* Did you have any issue with the pre-session work?

* `create-react-app` is a tool chain that permits to create a one-page web app

* `create-react-app my-app --template typescript` is the command to run in the terminal to create my-app and be sure that it supports TypeScript. Do not forget `--template typescript`!
  * NOTE: Make sure that you include `--template typescript`!! It's very easy to leave out. 
  * One way to check is to look at the file extensions of the files. If you find a file named App.**tsx** (in the src folder) then you're using **Type**Script. However, you instead find a file name App.**jsx** then you've accidentally create a **Java**Script based React app. This isn't a big deal and it's easy to fix - delete the JavaScript based React app and create a new React project, making sure to include `--template typescript`

* Folders/files of the project
  * Open the workspace folder in VS Code
  * Let us tour the content of what was generated
    * Some important folders/files
      * src folder - "source" working files to create the build
      * App.tsx - React module
      * App.css - top level style
      * index.tsx - React module
      * public folder - can be opened from browser address bar
      * index.html - most common name for the default webpage of a website
      * tsconfig.json - TypeScript configuration
      * .gitignore - tells Git which files or folder to ignore in a project such as editor backup and local configuration files
      * package.json - dependencies
      * README - scripts for project and links to learn more about create React app
      * App.test.tsx - running test with Jest, more on this later
      * setupTests.ts - tests Jest will run
      * yarn.lock - stores what versions were installed
    * Some other folders/files (not imporant at this point!)
      * node_modules folder - installed packages
      * favicon.ico - the image that's displayed in a browser tab
      * logo.png - two sizes, displayed in the web page
      * logo.svg - scalable vector of logo
      * manifest.json - metadata for WebExtensions API, used for bookmarks and cross-browsers for compatibility
      * robots.txt - used by search engines for indexing
      * react-app-env.d.ts - dev environment
      * serviceWorker.ts - executes in the background on separate thread from UI, allows app to work offline and used for platform integration
  * Overview and discussion of the code
    * index.html - `root` is the id of the div element and is used in other files
    * App.tsx
      * Look at the imports  
      * A function called `App` is created. App is a React component. It returns a JSX `<div>` element
      * JSX is JavaScript + XML
      * .tsx means that we are using JSX in this project
    * index.tsx
        * Notice the import 
        ```typescript
        import App from './App';
        ```
        * The function `render` permits to render the App component into the root DOM 
  * Demo 
    * Run the app
    * Change something in one of the files (App.tsx, App.css) and save 
    * Observe the app re-render in the browser
    * This is React in action!
    

![React files](https://github.com/tnt-summer-academy/Curriculum/blob/main/Week%201/%5BENG1.3%5Dreactfiles.png)

### App architecture (15 minutes)

* TNTs draw what they have learned so far about app architecture
  * Display app architecture with labels, no descriptions
  * TNT groups talk through the functions of the different parts and how they connect
* Re-group and walk through architecture thus far together - HTML, CSS, React, Node...

![Architecture to discuss](https://github.com/tnt-summer-academy/Curriculum/blob/main/Week%201/BasicArchitecture.png)

### Going further: input-app (25 minutes)

* We will go together through th creation of a small app 
* You can start with `my-app` or create a new React app
* The goal is create an app that updates a welcome string based on input text
* We will need to add a textbox for the user to enter text and listen on it. When it will change, the welcome text will be updated
* The finished code is available [here](https://github.com/tnt-summer-academy/Samples/tree/main/Week_1/input-app) (input-app)
* (You can clone Samples to get the code)
* Be sure to run `npm install` 
* We are going over the App.tsx code step by step
  * This app uses a class component (not a function). We use classes for components that have changing states
  * App extends `React.Component<props, state>`
  * `props` are propriety parameters that are passed from parents to children through tag atributes
  * The state of the app is represented by a string called `name`
  * We will be using `React.Component<{}, {name: string>`
  * `name` is initialized to the empty string
  * We are adding the `<input>` tag with attribute `onChange` that will call `this.onChange`. input will create a textbox where the user will input text.
  * `this` refers to the current component
  * Notice the camel case notation for the `onChange` attribute due to the use of JSX
  * Define `onChange` as an anonymous function with fat arrow. It changes the state of the component using the `setState` function. It returns void. 
  * Update `<input>` such that the `value` attribute contains `name` 
  * Add `{this.state.name}` after Welcome to print `name`

## Post-session (30 minutes)

Extend [`input-app`](https://github.com/tnt-summer-academy/Samples/tree/main/Week_1) by using a form. The Welcome text changes, when the Submit button is clicked

## Stretch

* Check out these samples: [Recommended React + TypeScript codebases to learn from](https://react-typescript-cheatsheet.netlify.app/docs/basic/recommended/resources)
* Check out these community samples: [Example projects](https://reactjs.org/community/examples.html)
